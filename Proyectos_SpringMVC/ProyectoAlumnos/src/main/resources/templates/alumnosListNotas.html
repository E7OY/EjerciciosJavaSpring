<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>AumnosList</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"> 
    </head>
    <body>
        
        <div class="container">

            <h1 class="my-5">Lista de todos los alumnos de la bd</h1>

            <table class="table">
                <thead>
                    <th>ID</th>
                    <th>NOMBRE</th>
                    <th>APELLIDOS</th>
                    <th>EDAD</th>
                    <th>Eliminar</th>
                    <th>Media</th>
                </thead>
                <tbody>
                    <tr th:each="alumno: ${alumnos}">
                        <td th:text="${alumno.id}"></td>
                        <td th:text="${alumno.nombre}"></td>
                        <td th:text="${alumno.apellidos}"></td>
                        <td th:text="${alumno.edad}"></td>
                        <td><a class="btn btn-primary" th:href="@{/alumnos/eliminar/{id} (id=${alumno.id}) }">Eliminar</a></td>
                        <td th:text="${mediaNotas[alumno.id] != null ?  #numbers.formatDecimal(mediaNotas.get(alumno.id), 1 ,2) : 'Sin notas'}"></td>
                        <td th:text="${mediaNotas.containsKey(alumno.id) ? #numbers.formatDecimal(mediaNotas.get(alumno.id), 1, 2) : 'Sin notas'}"></td>
                    </tr>
                </tbody>
            </table>

        </div>

    </body>
    </html>